import glob
import json

########################################################################################################################
# SETUP
########################################################################################################################

json_files = glob.glob('metadata-json/**/*.json', recursive=True)

########################################################################################################################
# GO
########################################################################################################################

data = []
json_object = []

for f in json_files:
    with open(f, 'r', encoding='utf-8') as f:
        d = json.load(f)
        json_object.append({
            "score_uri": d['score_uri'],
            "composers": 'üçÑ'.join(d['composers']),
            "titles": 'üçÑ'.join(d['titles']),
        })

# ########################################################################################################################
# # THAT'S ALL FOLKS!
# ########################################################################################################################

with open("tonalities-scores.json", "w", encoding='utf8') as outfile:
    outfile.write(json.dumps(json_object, indent=4, ensure_ascii=False))
